<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="dark-mode">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="SolarResult Dinnis Core API Documentation" />
<meta property="og:description" content="API documentation for SolarResult Dinnis Core - IoT firmware for smart meter gateway device built with Zephyr RTOS on Nordic nRF9161" />
<!-- END opengraph metadata -->
<!-- Favicon -->
<link rel="icon" type="image/svg+xml" href="solar_result_white.svg">
<title>SolarResult Dinnis Core: Module Documentatie Richtlijnen</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    // Initialize Doxygen Awesome features (dark mode only, no toggle)
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="solar_result_white.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SolarResult Dinnis Core
   </div>
   <div id="projectbrief">Dinnis Rev1.0.0 Firmware - IoT Gateway for DSMR P1 Smart Meters</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__2home_2ruben_2Documents_2solarresult_2firmware_2fw-energy-core_2guidelines_2documentation.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Module Documentatie Richtlijnen </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md358"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md359"></a>
Bestandsnaam Conventie</h1>
<p>Elke module wordt voorzien van zijn eigen documentatie markdown. De naam hiervan is <b><span class="tt">&lt;module&gt;_doc.md</span></b></p>
<p><b>Voorbeelden:</b></p><ul>
<li><span class="tt"><a class="el" href="p__one__doc_8md.html">p_one_doc.md</a></span> voor de P1 DSMR module</li>
<li><span class="tt"><a class="el" href="cloud__doc_8md.html">cloud_doc.md</a></span> voor de Cloud module</li>
<li><span class="tt"><a class="el" href="network__doc_8md.html">network_doc.md</a></span> voor de Network module</li>
<li><span class="tt"><a class="el" href="message__queue__doc_8md.html">message_queue_doc.md</a></span> voor de Message Queue module</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md361"></a>
Documentatie Niveau</h1>
<p>De inhoud is <b>technisch en specifiek</b>, maar ook <b>helikopterview en functioneel level</b>.</p>
<p>Het doel is om een complete, begrijpelijke beschrijving te geven van:</p><ul>
<li><b>Wat</b> de module doet (functioneel)</li>
<li><b>Waarom</b> het zo is ontworpen (design rationale)</li>
<li><b>Hoe</b> het werkt (architectuur, state machines, timing)</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md363"></a>
âœ… Wat ER WEL in moet</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md364"></a>
1. Specificaties</h2>
<ul>
<li>Wat doet deze module precies?</li>
<li>Welke verantwoordelijkheden heeft de module?</li>
<li>Wat zijn de input/output interfaces?</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md365"></a>
2. Implementatie Design Rationale</h2>
<ul>
<li>Waarom is gekozen voor deze aanpak?</li>
<li>Welke alternatieven zijn overwogen?</li>
<li>Wat zijn de voordelen van deze implementatie?</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md366"></a>
3. Edge Cases</h2>
<ul>
<li>Wat gebeurt er bij foutcondities?</li>
<li>Hoe reageert de module op onverwachte input?</li>
<li>Wat gebeurt er bij timeouts, disconnects, invalid data?</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md367"></a>
4. Argumentaties</h2>
<ul>
<li>Waarom zijn bepaalde keuzes gemaakt?</li>
<li>Wat zijn de technische overwegingen?</li>
<li>Welke requirements dreven de design beslissingen?</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md368"></a>
5. Afwegingen (Trade-offs)</h2>
<ul>
<li>Memory vs. snelheid</li>
<li>Nauwkeurigheid vs. performance</li>
<li>Complexiteit vs. onderhoudbaarheid</li>
<li>Power consumption vs. responsiveness</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md369"></a>
6. Intended Behaviour</h2>
<ul>
<li>Wat is het verwachte gedrag onder normale omstandigheden?</li>
<li>Wat is het verwachte gedrag bij errors?</li>
<li>Hoe herstelt de module van failures?</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md370"></a>
7. Timing Uitleg</h2>
<ul>
<li>Wat zijn de timing requirements?</li>
<li>Wat zijn de deadlines?</li>
<li>Wat zijn de interval timings?</li>
<li>Wat is de worst-case execution time?</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md371"></a>
8. Timing Diagrammen</h2>
<ul>
<li>Sequence diagrams van message flows</li>
<li>Timing diagrams van events</li>
<li>ASCII-art diagrammen zijn prima!</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md372"></a>
9. State Machine Transities</h2>
<ul>
<li>Welke states heeft de module?</li>
<li>Wat triggert transities tussen states?</li>
<li>Wat gebeurt er in elke state?</li>
<li>Wat zijn de exit/entry conditions?</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md373"></a>
10. Afhankelijkheden van Andere Modules</h2>
<ul>
<li>Van welke modules is deze module afhankelijk?</li>
<li>Welke modules zijn afhankelijk van deze module?</li>
<li>Wat gebeurt er als een dependency faalt?</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md374"></a>
11. ZBUS Kanalen</h2>
<ul>
<li>Welke ZBUS channels worden gebruikt?</li>
<li>Welke messages worden gepubliceerd?</li>
<li>Welke messages worden ontvangen?</li>
<li>Wat is de message flow?</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md376"></a>
â— Wat ER NIET in moet</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md377"></a>
1. Code Implementatie Voorbeelden</h2>
<ul>
<li><b>GEEN</b> code snippets die laten zien "hoe je de module gebruikt"</li>
<li><b>GEEN</b> API usage examples <br  />
</li>
<li><b>GEEN</b> ```<span class="tt">c</span> code blocks met echte C code</li>
<li><b>GEEN</b> struct definitions, function implementations, variable declarations</li>
<li>De documentatie beschrijft design, niet implementatie</li>
</ul>
<p><b>Voorbeelden van VERBODEN content:</b> </p><div class="fragment"><div class="line"><span class="comment">// â— VERBODEN - letterlijke code uit source</span></div>
<div class="line"><span class="preprocessor">#define QUEUE_CAPACITY 400</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span><a class="code hl_struct" href="structcombined__energy__msg.html">combined_energy_msg</a> queue[QUEUE_CAPACITY];</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">size_t</span> queue_head = 0;</div>
<div class="ttc" id="astructcombined__energy__msg_html"><div class="ttname"><a href="structcombined__energy__msg.html">combined_energy_msg</a></div><div class="ttdoc">Combined energy message structure.</div><div class="ttdef"><b>Definition</b> <a href="message__queue__zbus_8h_source.html#l00039">message_queue_zbus.h:39</a></div></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// â— VERBODEN - function implementation</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> process_data(<span class="keywordtype">void</span>) {</div>
<div class="line">    <span class="keywordtype">int</span> ret = validate_input();</div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0) <span class="keywordflow">return</span> ret;</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>âœ… WEL toegestaan: Conceptuele beschrijvingen zonder code</b></p><ul>
<li>"Ring buffer met 400 berichten capaciteit"</li>
<li>"FIFO queue met head/tail pointers voor wrap-around"</li>
<li>"Enqueue controleert of queue vol is, schrijft naar head index, incrementeert modulo capacity"</li>
</ul>
<p><b>ğŸ”§ UITZONDERING: External Interface Contracts</b></p>
<p><b>âœ… WEL toegestaan: Data format specificaties voor externe interfaces</b></p>
<p>Wanneer een module data produceert die BUITEN de firmware gaat (naar cloud, andere devices, etc.), dan MOET de datastructuur gedocumenteerd worden. Dit is GEEN "code implementatie voorbeeld" maar een <b>interface contract specification</b>.</p>
<p><b>Toegestane interface documentatie:</b></p><ul>
<li>âœ… JSON message formats die naar de cloud gestuurd worden</li>
<li>âœ… Binary protocol formats voor externe communicatie</li>
<li>âœ… UART/SPI/I2C data frame structures naar externe hardware</li>
<li>âœ… REST API request/response bodies</li>
<li>âœ… MQTT message payloads</li>
</ul>
<p><b>Voorbeelden:</b></p>
<div class="fragment"><div class="line">âœ… TOEGESTAAN - External interface contract</div>
<div class="line">{</div>
<div class="line">  &quot;appId&quot;: &quot;DINNIS&quot;,  // Board-specific: &quot;DINNIS&quot; or &quot;STICK&quot;</div>
<div class="line">  &quot;messageType&quot;: &quot;DATA&quot;,</div>
<div class="line">  &quot;data&quot;: {</div>
<div class="line">    &quot;ec1&quot;: 12345,</div>
<div class="line">    &quot;gas_dm3&quot;: 1500</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Rationale:</b></p><ul>
<li>External interfaces zijn <b>contracten</b> tussen systemen</li>
<li>Cloud/backend developers moeten weten welk formaat ze krijgen</li>
<li>Protocol specificaties zijn essentieel voor integratie</li>
<li>Deze formats zijn NIET "implementation details" maar <b>public API</b></li>
<li>Wijzigingen in deze formats zijn <b>breaking changes</b> die gedocumenteerd moeten zijn</li>
</ul>
<p><b>Belangrijk:</b> Dit geldt ALLEEN voor data die de firmware verlaat. Interne structs en data formats tussen modules binnen de firmware horen NIET in de documentatie.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md378"></a>
2. Herhalingen van Blokken Code</h2>
<ul>
<li><b>GEEN</b> copy-paste van functie implementaties</li>
<li><b>GEEN</b> letterlijke code blocks uit de source</li>
<li><b>GEEN</b> struct layouts met exact field names en types</li>
<li>De code zelf is de bron van waarheid voor implementatie details</li>
</ul>
<p><b>Rationale:</b></p><ul>
<li>Code in documentatie raakt out-of-sync met echte code</li>
<li>Dubbele onderhoudslast: wijziging in code â†’ wijziging in docs</li>
<li>Ontwikkelaars kunnen code gewoon in source lezen</li>
<li>Focus van docs is WAAROM, niet HOEVEELHEID DETAILS</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md379"></a>
3. Historische Referenties en Voor/Na Vergelijkingen</h2>
<ul>
<li><b>GEEN</b> "oude implementatie deed X, nieuwe implementatie doet Y"</li>
<li><b>GEEN</b> "vroeger hadden we probleem Z, nu is het opgelost"</li>
<li><b>GEEN</b> "versie 1.0 had feature A, versie 2.0 heeft feature B"</li>
<li><b>GEEN</b> RAM utilization voor/na tabellen</li>
<li><b>GEEN</b> performance metingen van oude vs nieuwe code</li>
<li><b>GEEN</b> git history narratives</li>
</ul>
<p><b>Rationale:</b></p><ul>
<li>Documentatie beschrijft de <b>huidige implementatie</b>, niet de geschiedenis</li>
<li>"Voor/Na" vergelijkingen zijn irrelevant voor iemand die de code nu leest</li>
<li>Oude code bestaat niet meer - waarom zou je erover praten?</li>
<li>Focus op <b>waarom de huidige oplossing goed is</b>, niet waarom de oude slecht was</li>
</ul>
<p><b>âœ… WEL toegestaan: Design Rationale zonder historische context</b></p><ul>
<li>âœ… "Netwerk kan instabiel zijn, daarom implementeren we retry logic met exponential backoff"</li>
<li>âœ… "UART kan data loss hebben, daarom valideren we CRC checksums"</li>
<li>âœ… "P1 telegrams kunnen 2KB zijn, daarom gebruiken we ring buffers van 4KB"</li>
<li>â— "Oude code gebruikte geen retry, nieuwe code wel"</li>
<li>â— "Versie 1 had 512B buffer, versie 2 heeft 4KB buffer"</li>
</ul>
<p><b>Het verschil:</b></p><ul>
<li><b>Rationale</b> = "We doen X omdat situatie Y kan voorkomen" (GOED âœ…)</li>
<li><b>Historie</b> = "We deden eerst A, nu doen we X" (SLECHT â—)</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md381"></a>
4. Code Verificatie en Synchronisatie (KRITIEK! âš ï¸)</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md382"></a>
Principe: NOOIT iets verzinnen</h2>
<p><b>ABSOLUTE REGEL:</b> Beschrijf ALLEEN wat daadwerkelijk in de code bestaat.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md383"></a>
Bij het schrijven of bewerken van documentatie:</h2>
<h3 class="doxsection"><a class="anchor" id="autotoc_md384"></a>
âœ… VERPLICHTE STAPPEN:</h3>
<ol type="1">
<li><b>Scan de actuele broncode ALTIJD voordat je schrijft</b><ul>
<li>Lees de <span class="tt">.c</span> en <span class="tt">.h</span> bestanden van de module</li>
<li>Verifieer struct definities, buffer sizes, implementaties</li>
<li>Check UART configuraties, timer settings, state machines</li>
</ul>
</li>
<li><b>Raadpleeg Zephyr API documentatie voor correcte API gebruik</b><ul>
<li>Zephyr docs zijn beschikbaar in <span class="tt">docs/</span> directory:<ul>
<li><span class="tt">zephyr-docs-&lt;component&gt;.md</span> - Component documentatie (concepten, architectuur)</li>
<li><span class="tt">zephyr-docs-&lt;component&gt;-api.md</span> - API reference (functies, parameters)</li>
</ul>
</li>
<li>Verifieer correcte functie signatures, parameters, en gedrag</li>
<li>Check welke API daadwerkelijk gebruikt wordt (async vs sync, DMA vs polling, etc.)</li>
<li>Voorbeelden: <span class="tt">uart_rx_enable()</span> (async API), <span class="tt">k_timer_start()</span>, <span class="tt">k_work_submit()</span></li>
<li>Bij twijfel over API werking: raadpleeg beide bestanden voor volledig begrip</li>
</ul>
</li>
<li><b>Beschrijf alleen geverifieerde feiten</b><ul>
<li>âœ… "We gebruiken een buffer van 2048 bytes" â†’ Als je <span class="tt">#define RX_BUF_SIZE 2048</span> hebt gezien</li>
<li>âœ… "UART werkt met async API" â†’ Als je <span class="tt">uart_rx_enable()</span> ziet met callback</li>
<li>â— "We gebruiken dual buffering met DMA" â†’ Als dit NIET in de code staat</li>
</ul>
</li>
<li><b>Bij twijfel: STOP en verifieer</b><ul>
<li>Onzeker over een implementatie detail? â†’ Scan de code</li>
<li>Weet je de buffer size niet? â†’ Check de header file</li>
<li>Niet zeker welke API gebruikt wordt? â†’ Lees de source file + Zephyr docs</li>
<li>Onzeker over API gedrag? â†’ Raadpleeg <span class="tt">docs/zephyr-docs-&lt;component&gt;.md</span> en <span class="tt">zephyr-docs-&lt;component&gt;-api.md</span></li>
</ul>
</li>
<li><b>Periodieke synchronisatie checks</b><ul>
<li>Bij elke code wijziging: update de documentatie</li>
<li>Bij elke documentatie wijziging: verifieer met de code</li>
<li>Regelmatig: scan of beschrijvingen nog kloppen met de implementatie</li>
</ul>
</li>
</ol>
<h3 class="doxsection"><a class="anchor" id="autotoc_md385"></a>
â— VERBODEN:</h3>
<ul>
<li>â— Aannemen dat een implementatie bestaat zonder verificatie</li>
<li>â— Beschrijven van "logische" features die niet geÃ¯mplementeerd zijn</li>
<li>â— Extrapoleren van andere modules ("module X doet het zo, dus Y ook")</li>
<li>â— Technische details bedenken die "waarschijnlijk wel kloppen"</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md386"></a>
Voorbeelden van FOUTEN door niet te verifiÃ«ren:</h2>
<h3 class="doxsection"><a class="anchor" id="autotoc_md387"></a>
â— FOUT (verzonnen content):</h3>
<div class="fragment"><div class="line">We gebruiken dual buffering om geen data te missen tijdens parsing:</div>
<div class="line"> </div>
<div class="line">Buffer A (2048 bytes) â”€â”€â”</div>
<div class="line">                         â”œâ”€â”€&gt; UART DMA</div>
<div class="line">Buffer B (2048 bytes) â”€â”€â”˜</div>
</div><!-- fragment --><p><b>Probleem:</b> Dit klinkt technisch correct, maar staat NIET in de code!</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md388"></a>
âœ… CORRECT (geverifieerd):</h3>
<div class="fragment"><div class="line">We gebruiken async UART API met Ã©Ã©n RX buffer (2048 bytes).</div>
<div class="line">Bij een volledige telegram wordt de callback aangeroepen.</div>
</div><!-- fragment --><p><b>Reden:</b> Dit staat WEL in de code en is geverifieerd.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md389"></a>
Checklist voor elke documentatie wijziging:</h2>
<ul class="check">
<li class="unchecked">Heb ik de relevante <span class="tt">.c</span> bestanden gelezen?</li>
</ul>
<ul class="check">
<li class="unchecked">Heb ik de relevante <span class="tt">.h</span> bestanden gecontroleerd?</li>
</ul>
<ul class="check">
<li class="unchecked">Zijn alle buffer sizes/defines geverifieerd?</li>
</ul>
<ul class="check">
<li class="unchecked">Zijn alle API calls/functies die ik noem echt gebruikt?</li>
</ul>
<ul class="check">
<li class="unchecked">Heb ik Zephyr API documentatie geraadpleegd voor correcte API gebruik?</li>
</ul>
<ul class="check">
<li class="unchecked">Heb ik GEEN implementaties beschreven zonder code verificatie?</li>
</ul>
<ul class="check">
<li class="unchecked">Bij twijfel: heb ik de gebruiker gevraagd?</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md390"></a>
Waarom is dit zo belangrijk?</h2>
<p><b>Verzonnen content is rampzalig omdat:</b></p><ol type="1">
<li>Developers baseren hun begrip op verkeerde informatie</li>
<li>Debugging wordt onmogelijk als documentatie niet klopt met code</li>
<li>Vertrouwen in de documentatie verdwijnt volledig</li>
<li>Toekomstige wijzigingen worden gebaseerd op fictie</li>
</ol>
<p><b>Regel:</b> Als je het niet ZEKER weet â†’ verificeer in de code, of vraag het expliciet.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md392"></a>
Samenvatting</h1>
<p><b>Module documentatie (<span class="tt">&lt;module&gt;_doc.md</span>) is:</b></p><ul>
<li>âœ… Technisch maar ook high-level</li>
<li>âœ… Design rationale en trade-offs</li>
<li>âœ… Complete beschrijving van gedrag en edge cases</li>
<li>âœ… State machines, timing, dependencies</li>
<li>âœ… <b>ALTIJD geverifieerd met actuele broncode</b></li>
<li>â— GEEN code voorbeelden</li>
<li>â— GEEN letterlijke code blocks</li>
<li>â— GEEN verzonnen implementatie details</li>
</ul>
<p><b>Doel:</b> Een ervaren embedded developer moet na het lezen volledig begrijpen:</p><ol type="1">
<li>Wat de module doet</li>
<li>Waarom het zo is ontworpen</li>
<li>Hoe het zich gedraagt (states, timing, errors)</li>
<li>Hoe het integreert met de rest van het systeem</li>
</ol>
<p><b>KRITIEK:</b> Alle technische details moeten geverifieerd worden in de broncode. NOOIT iets verzinnen of aannemen.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md394"></a>
5. AI Agent Documentatie Verificatie Protocol</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md395"></a>
5.1 Waarom dit Protocol?</h2>
<p>Dit protocol is ontstaan uit systematische analyse van documentatie-code discrepanties in dit project. De belangrijkste patronen die gevonden werden:</p>
<p><b>Veelvoorkomende Discrepantie Types:</b></p><ol type="1">
<li><b>"Aspirational Documentation"</b> - Docs beschrijven wat module <em>zou moeten</em> doen, niet wat hij <em>doet</em></li>
<li><b>"Implementation Drift"</b> - Code evolueert, documentatie blijft statisch</li>
<li><b>"Hidden Details"</b> - Kritieke implementatie details ontbreken volledig</li>
<li><b>"Zombie Features"</b> - Features gedocumenteerd die niet (meer) bestaan</li>
</ol>
<p><b>Root Cause:</b> Documentatie wordt vaak geschreven tijdens design fase, maar niet ge-update na implementatie wijzigingen. Er is geen systematisch verificatie mechanisme.</p>
<p><b>Dit protocol</b> biedt een systematische aanpak voor AI agents om bestaande documentatie te reviewen en updaten, waarbij code altijd de bron van waarheid is.</p>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md397"></a>
5.2 Fundamenteel Principe: Code-First Investigation</h2>
<p><b>KERN REGEL: Trust Nothing - Code is Truth</b></p>
<p>Bij documentatie review werk je <b>andersom</b> dan bij documentatie schrijven:</p>
<div class="fragment"><div class="line">Schrijven:  Design â†’ Implementatie â†’ Documentatie</div>
<div class="line">Reviewen:   Code â†’ Analyse â†’ Verificatie â†’ Documentatie Update</div>
</div><!-- fragment --><p><b>Workflow:</b></p><ol type="1">
<li><b>Lees EERST de code</b> - bouw objectieve waarheid op</li>
<li><b>Lees DAARNA de docs</b> - identificeer claims</li>
<li><b>Vergelijk</b> - wat klopt, wat niet?</li>
<li><b>Update</b> - pas docs aan naar code realiteit</li>
</ol>
<p><b>Analogie:</b> Documentatie is een <b>kaart</b>, code is <b>terrein</b>. Als ze verschillen, is het terrein correct, niet de kaart.</p>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md399"></a>
5.3 Systematische Verificatie Strategie</h2>
<h3 class="doxsection"><a class="anchor" id="autotoc_md400"></a>
Fase 1: Build Code Inventory (Objectieve Waarheid)</h3>
<p><b>Doel:</b> Bouw een compleet overzicht van wat <b>echt</b> in de code zit, voordat je docs leest.</p>
<p><b>Wat te inventariseren:</b></p><ul>
<li><b>Architectuur patterns</b>: State machines, event loops, callbacks</li>
<li><b>Data structures</b>: Buffers, queues, caches (sizes, types)</li>
<li><b>Communication</b>: Inter-module messaging (channels, protocols, APIs)</li>
<li><b>Configuration</b>: Compile-time (Kconfig), runtime (Settings), hardcoded</li>
<li><b>Timing</b>: Timeouts, intervals, deadlines (values en waarom)</li>
<li><b>Constants</b>: Buffer sizes, thresholds, limits (actual values)</li>
</ul>
<p><b>Tools (voorbeelden):</b> </p><div class="fragment"><div class="line"># Find state machines</div>
<div class="line">grep -rn &quot;smf_state.*\[\]&quot; module.c</div>
<div class="line"> </div>
<div class="line"># Count actual states (exclude comments)</div>
<div class="line">grep -E &quot;^\s*\[STATE_[A-Z_]+\]\s*=&quot; module.c | wc -l</div>
<div class="line"> </div>
<div class="line"># Find all constants/defines</div>
<div class="line">grep -rn &quot;^#define [A-Z_]*&quot; module.h</div>
<div class="line"> </div>
<div class="line"># Find configuration options</div>
<div class="line">grep -rn &quot;CONFIG_APP_MODULE&quot; .</div>
</div><!-- fragment --><p><b>Output:</b> Een matrix/lijst met <b>verified facts</b> uit code, zonder interpretatie.</p>
<hr  />
<h3 class="doxsection"><a class="anchor" id="autotoc_md402"></a>
Fase 2: Documentation Claims Extraction</h3>
<p><b>Doel:</b> Lees documentatie en extract <b>verificeerbare claims</b>.</p>
<p><b>Types claims:</b></p><ul>
<li><b>Architectuur claims</b>: "Module heeft 3 states", "Gebruikt work queue pattern"</li>
<li><b>Gedrag claims</b>: "Stuurt data elke 30 seconden", "Timeout is 10 seconden"</li>
<li><b>Data claims</b>: "Buffer is 2048 bytes", "Queue capacity is 144 messages"</li>
<li><b>Integration claims</b>: "Publishes naar X channel", "Subscribes op Y channel"</li>
</ul>
<p><b>Flag claims die:</b></p><ul>
<li>âš ï¸ Specifieke getallen noemen zonder code referentie</li>
<li>âš ï¸ Vage termen gebruiken ("several", "multiple", "various")</li>
<li>âš ï¸ Technische details zonder verificatie mogelijkheid</li>
<li>âš ï¸ Features beschrijven zonder implementatie context</li>
</ul>
<hr  />
<h3 class="doxsection"><a class="anchor" id="autotoc_md404"></a>
Fase 3: Systematische Verificatie Per Claim Type</h3>
<p><b>Voor elk claim type, verify tegen code inventory:</b></p>
<h4 class="doxsection"><a class="anchor" id="autotoc_md405"></a>
3.1 Architectuur Pattern Claims</h4>
<p><b>Voorbeeld claims:</b></p><ul>
<li>"Module gebruikt state machine met N states"</li>
<li>"Implements callback-based event handling"</li>
<li>"Uses work queue for deferred processing"</li>
</ul>
<p><b>Verificatie methode:</b> </p><div class="fragment"><div class="line"># Voorbeeld: State machine verificatie</div>
<div class="line"># 1. Find state machine array</div>
<div class="line">grep &quot;smf_state.*states\[\]&quot; module.c</div>
<div class="line"> </div>
<div class="line"># 2. Count states</div>
<div class="line">grep -E &quot;^\s*\[STATE_&quot; module.c | wc -l</div>
<div class="line"> </div>
<div class="line"># 3. Find transitions</div>
<div class="line">grep &quot;smf_set_state&quot; module.c</div>
<div class="line"> </div>
<div class="line"># 4. Verify hierarchie</div>
<div class="line">grep &quot;\.parent\s*=&quot; module.c</div>
</div><!-- fragment --><p><b>Red flags:</b></p><ul>
<li>â— Docs claim state machine â†’ code heeft geen <span class="tt">smf_state</span> array</li>
<li>â— Docs zeggen "3 states" â†’ code heeft 6 states</li>
<li>â— Docs noemen states met verkeerde namen</li>
</ul>
<hr  />
<h4 class="doxsection"><a class="anchor" id="autotoc_md407"></a>
3.2 Communication Pattern Claims</h4>
<p><b>Voorbeeld claims (ZBUS specifiek als voorbeeld):</b></p><ul>
<li>"Module publishes to channels X, Y, Z"</li>
<li>"Module subscribes to channels A, B, C"</li>
<li>"Uses channel D for internal communication"</li>
</ul>
<p><b>Verificatie methode (generiek pattern):</b> </p><div class="fragment"><div class="line"># Voorbeeld voor ZBUS (pas aan voor jouw messaging system):</div>
<div class="line"># 1. Find subscriptions</div>
<div class="line">grep -A 10 &quot;CHANNEL_LIST&quot; module.c</div>
<div class="line"> </div>
<div class="line"># 2. Find publications</div>
<div class="line">grep &quot;zbus_chan_pub\|your_publish_function&quot; module.c</div>
<div class="line"> </div>
<div class="line"># 3. Find channel definitions</div>
<div class="line">grep &quot;ZBUS_CHAN_DEFINE\|YOUR_CHANNEL_DEFINE&quot; module_messaging.c</div>
</div><!-- fragment --><p><b>âš ï¸ Note:</b> Dit is een <b>voorbeeld voor ZBUS</b>. Voor andere messaging systemen (queues, callbacks, direct function calls) gebruik je andere grep patterns. Het principe blijft hetzelfde: verify wat docs claimen tegen wat code doet.</p>
<p><b>Red flags:</b></p><ul>
<li>â— Docs claim "publishes to X" â†’ geen publish call in code</li>
<li>â— Docs claim "subscribes to Y" â†’ niet in subscription lijst</li>
<li>â— Docs missen cruciale channels die wel in code staan</li>
</ul>
<hr  />
<h4 class="doxsection"><a class="anchor" id="autotoc_md409"></a>
3.3 Configuration &amp; Constants Claims</h4>
<p><b>Voorbeeld claims:</b></p><ul>
<li>"Timeout is configured via Kconfig"</li>
<li>"Buffer size is 2048 bytes"</li>
<li>"Uses runtime Settings for X"</li>
</ul>
<p><b>Verificatie methode:</b> </p><div class="fragment"><div class="line"># Find Kconfig options</div>
<div class="line">grep -rn &quot;config APP_MODULE_&quot; Kconfig</div>
<div class="line"> </div>
<div class="line"># Find #define constants</div>
<div class="line">grep &quot;#define.*BUFFER.*SIZE&quot; module.h</div>
<div class="line"> </div>
<div class="line"># Find Settings usage</div>
<div class="line">grep &quot;settings_.*\|SETTINGS_&quot; module.c</div>
</div><!-- fragment --><p><b>Red flags:</b></p><ul>
<li>â— Docs zeggen "Kconfig" â†’ value is hardcoded in code</li>
<li>â— Docs zeggen "hardcoded 10s" â†’ eigenlijk Kconfig configureerbaar</li>
<li>â— Buffer size in docs â‰  buffer size in code</li>
</ul>
<hr  />
<h4 class="doxsection"><a class="anchor" id="autotoc_md411"></a>
3.4 Timing &amp; Behavior Claims</h4>
<p><b>Voorbeeld claims:</b></p><ul>
<li>"Sends data every 30 seconds"</li>
<li>"Response timeout is 10.8 seconds"</li>
<li>"Retry interval uses exponential backoff"</li>
</ul>
<p><b>Verificatie methode:</b> </p><div class="fragment"><div class="line"># Find timer definitions</div>
<div class="line">grep &quot;K_TIMER_DEFINE\|k_timer_start&quot; module.c</div>
<div class="line"> </div>
<div class="line"># Find delay values</div>
<div class="line">grep &quot;K_SECONDS\|K_MSEC\|K_USEC&quot; module.c</div>
<div class="line"> </div>
<div class="line"># Find timeout constants</div>
<div class="line">grep -E &quot;TIMEOUT.*=&quot; module.c</div>
</div><!-- fragment --><p><b>Red flags:</b></p><ul>
<li>â— Timing values in docs â‰  values in code</li>
<li>â— Docs beschrijven gedrag dat niet geÃ¯mplementeerd is</li>
<li>â— Algoritmes (backoff, retry) incorrect beschreven</li>
</ul>
<hr  />
<h3 class="doxsection"><a class="anchor" id="autotoc_md413"></a>
Fase 4: Documentatie Anti-Patterns (Red Flags)</h3>
<p><b>ğŸš¨ Signalen dat documentatie waarschijnlijk niet klopt:</b></p>
<h4 class="doxsection"><a class="anchor" id="autotoc_md414"></a>
4.1 Taalgebruik Red Flags</h4>
<p><b>Problematisch taalgebruik:</b></p><ul>
<li>âš ï¸ <b>"Should" / "Will"</b> - Aspirationeel, niet beschrijvend<ul>
<li>â— "The module *will* send data when threshold is reached"</li>
<li>âœ… "The module sends data when X condition occurs"</li>
</ul>
</li>
<li>âš ï¸ <b>Vague quantities</b> - "Several", "multiple", "various"<ul>
<li>â— "The state machine has several states"</li>
<li>âœ… "The state machine has 3 states: IDLE, ACTIVE, ERROR"</li>
</ul>
</li>
<li>âš ï¸ <b>Hedging language</b> - "Typically", "usually", "generally"<ul>
<li>â— "Typically uses 2KB buffer"</li>
<li>âœ… "Uses 2KB buffer (defined as BUFFER_SIZE in module.h:42)"</li>
</ul>
</li>
</ul>
<h4 class="doxsection"><a class="anchor" id="autotoc_md415"></a>
4.2 Structurele Red Flags</h4>
<p><b>Missing critical details:</b></p><ul>
<li>âš ï¸ <b>Geen code referenties</b> bij specifieke waarden<ul>
<li>â— "Uses timeout of 500ms"</li>
<li>âœ… "Uses timeout of CONFIG_MODULE_TIMEOUT_MS (default 500ms, see Kconfig:123)"</li>
</ul>
</li>
<li>âš ï¸ <b>Generieke diagrammen</b> zonder concrete namen<ul>
<li>â— Flow chart met "Process Data" â†’ "Send Result"</li>
<li>âœ… Flow chart met <span class="tt">process_data()</span> â†’ <span class="tt">zbus_chan_pub(&amp;RESULT_CHAN)</span></li>
</ul>
</li>
<li>âš ï¸ <b>TODO items</b> in published documentatie<ul>
<li>â— "TODO: Describe retry mechanism"</li>
<li>âœ… Verify: Is retry geÃ¯mplementeerd? Update doc accordingly.</li>
</ul>
</li>
</ul>
<h4 class="doxsection"><a class="anchor" id="autotoc_md416"></a>
4.3 Feature Consistency Red Flags</h4>
<p><b>Zombie features:</b></p><ul>
<li>âš ï¸ Feature uitgebreid beschreven, maar niet vindbaar in code</li>
<li>âš ï¸ Constants/thresholds genoemd die niet bestaan</li>
<li>âš ï¸ Configuratie opties die niet in Kconfig staan</li>
</ul>
<p><b>Verify checklist:</b> </p><div class="fragment"><div class="line"># Voor elke gedocumenteerde feature:</div>
<div class="line"># 1. Bestaat de feature? (grep in code)</div>
<div class="line"># 2. Zo ja, klopt het gedrag?</div>
<div class="line"># 3. Zo nee, oude feature die verwijderd is?</div>
</div><!-- fragment --><hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md418"></a>
5.4 Verification Workflow (5 Fasen)</h2>
<div class="fragment"><div class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</div>
<div class="line">â”‚ FASE 1: Code Analysis                   â”‚</div>
<div class="line">â”‚ - Build symbol table                    â”‚</div>
<div class="line">â”‚ - Map communication patterns            â”‚</div>
<div class="line">â”‚ - Extract constants/config              â”‚</div>
<div class="line">â”‚ - Identify architecture patterns        â”‚</div>
<div class="line">â”‚ OUTPUT: Objective code inventory        â”‚</div>
<div class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>
<div class="line">                 â”‚</div>
<div class="line">                 â–¼</div>
<div class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</div>
<div class="line">â”‚ FASE 2: Documentation Read              â”‚</div>
<div class="line">â”‚ - Parse module docs                     â”‚</div>
<div class="line">â”‚ - Extract verificeerbare claims         â”‚</div>
<div class="line">â”‚ - Flag vague/unverifiable statements    â”‚</div>
<div class="line">â”‚ OUTPUT: Claims lijst                    â”‚</div>
<div class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>
<div class="line">                 â”‚</div>
<div class="line">                 â–¼</div>
<div class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</div>
<div class="line">â”‚ FASE 3: Verification                    â”‚</div>
<div class="line">â”‚ - Match claims tegen code inventory     â”‚</div>
<div class="line">â”‚ - Generate discrepancy report           â”‚</div>
<div class="line">â”‚ - Categorize by severity/type           â”‚</div>
<div class="line">â”‚ OUTPUT: Discrepancy lijst               â”‚</div>
<div class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>
<div class="line">                 â”‚</div>
<div class="line">                 â–¼</div>
<div class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</div>
<div class="line">â”‚ FASE 4: User Confirmation               â”‚</div>
<div class="line">â”‚ - Present findings to user              â”‚</div>
<div class="line">â”‚ - Ask which discrepancies to fix        â”‚</div>
<div class="line">â”‚ - Confirm update approach               â”‚</div>
<div class="line">â”‚ OUTPUT: Prioritized fix list            â”‚</div>
<div class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>
<div class="line">                 â”‚</div>
<div class="line">                 â–¼</div>
<div class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</div>
<div class="line">â”‚ FASE 5: Update &amp; Verify                 â”‚</div>
<div class="line">â”‚ - Fix one module/section at a time      â”‚</div>
<div class="line">â”‚ - Re-verify after each change           â”‚</div>
<div class="line">â”‚ - Build docs to check syntax            â”‚</div>
<div class="line">â”‚ OUTPUT: Updated documentation           â”‚</div>
<div class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>
</div><!-- fragment --><hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md420"></a>
5.5 Practical Tools &amp; Commands</h2>
<p><b>âš ï¸ Note:</b> Onderstaande commands zijn <b>voorbeelden</b> voor een C/Zephyr embedded project. Pas aan voor jouw tech stack (andere taal, framework, build systeem).</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md421"></a>
Code Analysis Commands (Voorbeelden)</h3>
<div class="fragment"><div class="line"># Find all functions in a module</div>
<div class="line">grep -rn &quot;^[a-z_]*.*(&quot; module.c | grep -v &quot;^[[:space:]]&quot;</div>
<div class="line"> </div>
<div class="line"># Find all struct definitions</div>
<div class="line">grep -rn &quot;^struct [a-z_]* {&quot; module.h</div>
<div class="line"> </div>
<div class="line"># Find all enums</div>
<div class="line">grep -rn &quot;^enum [a-z_]* {&quot; module.h</div>
<div class="line"> </div>
<div class="line"># Find all #defines</div>
<div class="line">grep -rn &quot;^#define [A-Z_]*&quot; module.h</div>
<div class="line"> </div>
<div class="line"># Find specific pattern (state machines als voorbeeld)</div>
<div class="line">grep -rn &quot;smf_state\|state_machine&quot; module.c</div>
</div><!-- fragment --><h3 class="doxsection"><a class="anchor" id="autotoc_md422"></a>
Git History Commands (Context)</h3>
<div class="fragment"><div class="line"># When was doc last modified vs code?</div>
<div class="line">git log --oneline -- module_doc.md</div>
<div class="line">git log --oneline -- module.c</div>
<div class="line"> </div>
<div class="line"># Find when feature was added/removed</div>
<div class="line">git log --all -S &quot;FEATURE_NAME&quot; -- module.c</div>
<div class="line"> </div>
<div class="line"># Check who last modified what</div>
<div class="line">git blame module_doc.md</div>
</div><!-- fragment --><h3 class="doxsection"><a class="anchor" id="autotoc_md423"></a>
Verification Shortcuts</h3>
<div class="fragment"><div class="line"># Quick feature existence check</div>
<div class="line">grep -rn &quot;FEATURE_NAME&quot; application/src/ | wc -l</div>
<div class="line"># If result = 0 â†’ Feature doesn&#39;t exist!</div>
<div class="line"> </div>
<div class="line"># Quick state machine check</div>
<div class="line">grep -E &quot;^\s*\[STATE_&quot; module.c | wc -l</div>
<div class="line"># Compare count with docs</div>
<div class="line"> </div>
<div class="line"># Quick communication check (voorbeeld: ZBUS)</div>
<div class="line">grep &quot;zbus_chan_pub.*CHANNEL_NAME&quot; module.c</div>
<div class="line"># Verify: Does publish match docs?</div>
</div><!-- fragment --><hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md425"></a>
5.6 Checklist: Voor Documentatie Review Sessie</h2>
<p><b>Voorbereiding (voordat je docs leest):</b></p>
<ul class="check">
<li class="unchecked">Code inventory gebouwd (architecture, communication, config, timing)</li>
</ul>
<ul class="check">
<li class="unchecked">Alle constants/defines geÃ«xtraheerd</li>
</ul>
<ul class="check">
<li class="unchecked">Communication patterns in kaart gebracht (wie praat met wie?)</li>
</ul>
<ul class="check">
<li class="unchecked">Configuration sources geÃ¯dentificeerd (Kconfig/Settings/hardcoded)</li>
</ul>
<ul class="check">
<li class="unchecked">Git blame gedaan (wanneer was laatste code vs doc wijziging?)</li>
</ul>
<p><b>Per gedocumenteerd feature:</b></p>
<ul class="check">
<li class="unchecked">Feature bestaat in code? (grep verificatie)</li>
</ul>
<ul class="check">
<li class="unchecked">Feature gedrag klopt met beschrijving? (lees implementatie)</li>
</ul>
<ul class="check">
<li class="unchecked">Configuratie methode klopt? (Kconfig vs Settings vs hardcoded)</li>
</ul>
<ul class="check">
<li class="unchecked">Timing waarden kloppen? (compare constants)</li>
</ul>
<ul class="check">
<li class="unchecked">Architecture pattern klopt? (state machine, callbacks, etc.)</li>
</ul>
<p><b>Na updates:</b></p>
<ul class="check">
<li class="unchecked">Build documentation (catch syntax errors)</li>
</ul>
<ul class="check">
<li class="unchecked">Re-verify changed sections tegen code</li>
</ul>
<ul class="check">
<li class="unchecked">Check cross-references werken nog</li>
</ul>
<ul class="check">
<li class="unchecked">Update TODO list met remaining items</li>
</ul>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md427"></a>
5.7 Key Insights &amp; Lessons Learned</h2>
<p><b>Van deze documentatie audit bleek:</b></p>
<ol type="1">
<li><b>State machines</b> zijn het meest foutgevoelig<ul>
<li>Complex, visueel, lastig te begrijpen uit code</li>
<li>6 van 9 modules hadden state machine docs issues</li>
</ul>
</li>
<li><b>Inter-module communicatie</b> was nowhere centraal gedocumenteerd<ul>
<li>System-level view ontbrak volledig</li>
<li>Modules-level docs misten context</li>
</ul>
</li>
<li><b>Configuration vs Implementation</b> verwarring<ul>
<li>Docs beschreven flexibiliteit die niet bestond</li>
<li>Kconfig vs Settings vs hardcoded vaak verkeerd</li>
</ul>
</li>
<li><b>"Aspirational documentation"</b> was #1 oorzaak<ul>
<li>Geschreven tijdens design, niet ge-update na implementatie</li>
<li>"Wat zou moeten" vs "wat is" mismatch</li>
</ul>
</li>
</ol>
<p><b>Belangrijkste les:</b> AI agents moeten <b>sceptisch</b> zijn. Als iets niet met 100% zekerheid te verifiÃ«ren is uit code â†’ vraag gebruiker, don't guess.</p>
<hr  />
<h2 class="doxsection"><a class="anchor" id="autotoc_md429"></a>
5.8 Samenvatting Protocol</h2>
<p><b>In Ã©Ã©n zin:</b> <em>Vertrouw documentatie niet - bouw code inventory first, verify elke claim, update docs naar code realiteit.</em></p>
<p><b>Core workflow:</b> </p><div class="fragment"><div class="line">Code â†’ Inventory â†’ Claims â†’ Verify â†’ Report â†’ Confirm â†’ Update</div>
</div><!-- fragment --><p><b>Core principe:</b> </p><div class="fragment"><div class="line">Als documentatie en code verschillen:</div>
<div class="line">â†’ Code heeft gelijk</div>
<div class="line">â†’ Documentatie moet aangepast</div>
<div class="line">â†’ NOOIT andersom</div>
</div><!-- fragment --><p><b>Core mindset:</b> </p><div class="fragment"><div class="line">Trust nothing.</div>
<div class="line">Verify everything.</div>
<div class="line">Code is truth.</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
