<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="dark-mode">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="SolarResult Dinnis Core API Documentation" />
<meta property="og:description" content="API documentation for SolarResult Dinnis Core - IoT firmware for smart meter gateway device built with Zephyr RTOS on Nordic nRF9161" />
<!-- END opengraph metadata -->
<!-- Favicon -->
<link rel="icon" type="image/svg+xml" href="solar_result_white.svg">
<title>SolarResult Dinnis Core: SolarResult Energy Core - Firmware Documentatie</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    // Initialize Doxygen Awesome features (dark mode only, no toggle)
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="solar_result_white.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SolarResult Dinnis Core
   </div>
   <div id="projectbrief">Dinnis Rev1.0.0 Firmware - IoT Gateway for DSMR P1 Smart Meters</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('index.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">SolarResult Energy Core - Firmware Documentatie </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="mainpage"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md177"></a>
ğŸ“‹ Overzicht</h1>
<p>Welkom bij de API documentatie van <b>SolarResult Energy Core</b> - de embedded firmware voor de SolarResult energy gateway boards.</p>
<p>Deze firmware draait op een <b>Nordic nRF9161</b> microcontroller en is gebouwd met <b>Zephyr RTOS</b> en de <b>nRF Connect SDK</b>. De exacte versies zijn gespecificeerd in <span class="tt">application/west.yml</span>. Het apparaat leest energiedata van P1 DSMR slimme meters en puls-tellers, en verstuurt deze naar nRF Cloud.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md179"></a>
ğŸ—ï¸ Architectuur</h1>
<p>De firmware is opgebouwd uit modulaire componenten die communiceren via <b>ZBUS</b> (Zephyr Bus). Elke kritieke module draait in zijn eigen thread voor robuuste, parallelle operaties.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md180"></a>
Kernmodules</h2>
<p>Klik op een module voor de volledige documentatie inclusief design rationale en implementatie details.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Module  </th><th class="markdownTableHeadNone">Beschrijving  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="app_doc.html">Application</a>  </td><td class="markdownTableBodyNone">Hoofdapplicatie, state machine en initialisatie.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="p_one_doc.html">P1 DSMR</a>  </td><td class="markdownTableBodyNone">Leest, parset en valideert data van DSMR slimme meters.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="energy_pulse_doc.html">Energy Pulse</a>  </td><td class="markdownTableBodyNone">Telt pulsen van externe meters (water, gas) via GPIO.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="cloud_doc.html">Cloud</a>  </td><td class="markdownTableBodyNone">Beheert nRF Cloud connectiviteit, dataverzending en FOTA updates. Gebruikt een interne <b>message queue</b> om data te bufferen.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Network  </td><td class="markdownTableBodyNone">Beheert de LTE-M/NB-IoT modem en netwerkverbinding.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Timing  </td><td class="markdownTableBodyNone">Genereert periodieke events voor data acquisitie en publicatie.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="led_doc.html">LED</a>  </td><td class="markdownTableBodyNone">Geeft visuele feedback over de systeemstatus.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Reboot  </td><td class="markdownTableBodyNone">CoÃ¶rdineert een graceful shutdown en herstart van het systeem.  </td></tr>
</table>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md182"></a>
ğŸ”„ Data Flow &amp; ZBUS Architectuur</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md183"></a>
Visueel Overzicht</h2>
<p>Het diagram hieronder toont de informatiestroom tussen de modules via ZBUS-kanalen en directe functie-aanroepen.</p>
<div class="fragment"><div class="line">                                ZBUS Message Bus</div>
<div class="line">                                       â”‚</div>
<div class="line">      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</div>
<div class="line">      â”‚                                â”‚                                â”‚</div>
<div class="line">â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â–¼â”€â”€â”                         â”Œâ”€â”€â”€â–¼â”€â”€â”</div>
<div class="line">â”‚  Network  â”‚â”€ â”€ â”€ network_chan â”€ â–¶â”‚ LED  â”‚â—€ â”€ â”€ â”€ led_chan â”€ â”€ â”€ â”€ â”‚ App  â”‚</div>
<div class="line">â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â–²â”€â”€â”˜                         â””â”€â”€â”€â”¬â”€â”€â”˜</div>
<div class="line">      â”‚                              â”‚                              â”‚</div>
<div class="line">      â”‚                              â”‚ cloud_chan / fota_chan         â”‚</div>
<div class="line">      â”‚                              â”‚                              â”‚</div>
<div class="line">â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  timing_chan     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                     â”Œâ”€â”€â”€â–¼â”€â”€â”</div>
<div class="line">â”‚   Cloud   â”‚â—€- - - - - - - - -â”‚   Timing   â”‚- - - timing_chan - â–¶â”‚  P1  â”‚</div>
<div class="line">â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”¬â”€â”€â”˜</div>
<div class="line">      â”‚                                                             â”‚</div>
<div class="line">      â”‚       â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”       â”‚</div>
<div class="line">      â”‚       â”‚ Direct call: cloud_enqueue_p1(data)           â”‚       â”‚</div>
<div class="line">      â””â”€â”€â”€â”€â”€â”€â”€â—€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”˜       â”‚</div>
<div class="line">      â”‚                                                               â”‚</div>
<div class="line">â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                                                       â”Œâ”€â–¼â”€â”€â”€â”</div>
<div class="line">â”‚  Message  â”‚                                                       â”‚Pulseâ”‚</div>
<div class="line">â”‚   Queue   â”‚&lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚</div>
<div class="line">â”‚ (Internal)â”‚       â”‚ Direct call: cloud_enqueue_pulse(data)        â”‚     â”‚</div>
<div class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”” â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”˜     â”‚</div>
<div class="line">      â–²                                                                   â”‚</div>
<div class="line">      â”‚                                                                   â”‚</div>
<div class="line">â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                                                       â”Œâ”€â–¼â”€â”€â”€â”</div>
<div class="line">â”‚  Reboot   â”‚â”€ â”€ â”€ reboot_chan â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â–¶â”‚ ... â”‚</div>
<div class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                       â””â”€â”€â”€â”€â”€â”˜</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md184"></a>
ZBUS Channel Overzicht</h2>
<p>De modules communiceren via 8 ZBUS-kanalen.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Channel  </th><th class="markdownTableHeadNone">Type  </th><th class="markdownTableHeadNone">Publisher(s)  </th><th class="markdownTableHeadNone">Subscriber(s)  </th><th class="markdownTableHeadNone">Doel  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b><span class="tt">timing_chan</span></b>  </td><td class="markdownTableBodyNone"><span class="tt">timing_msg</span>  </td><td class="markdownTableBodyNone"><span class="tt">Timing</span>  </td><td class="markdownTableBodyNone"><span class="tt">P1</span>, <span class="tt">Cloud</span>  </td><td class="markdownTableBodyNone">Periodieke triggers voor data-acquisitie en data-verzending.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b><span class="tt">p1_chan</span></b>  </td><td class="markdownTableBodyNone"><span class="tt">p1_msg</span>  </td><td class="markdownTableBodyNone"><span class="tt">P1</span>  </td><td class="markdownTableBodyNone"><span class="tt">Cloud</span>  </td><td class="markdownTableBodyNone">Publiceert geparste P1-telegram data.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b><span class="tt">pulse_chan</span></b>  </td><td class="markdownTableBodyNone"><span class="tt">pulse_msg</span>  </td><td class="markdownTableBodyNone"><span class="tt">Pulse</span>  </td><td class="markdownTableBodyNone"><span class="tt">Cloud</span>  </td><td class="markdownTableBodyNone">Publiceert getelde pulsen.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b><span class="tt">network_chan</span></b>  </td><td class="markdownTableBodyNone"><span class="tt">network_msg</span>  </td><td class="markdownTableBodyNone"><span class="tt">Network</span>  </td><td class="markdownTableBodyNone"><span class="tt">Cloud</span>, <span class="tt">LED</span>  </td><td class="markdownTableBodyNone">Status van de modem en netwerkverbinding.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b><span class="tt">cloud_chan</span></b>  </td><td class="markdownTableBodyNone"><span class="tt">cloud_msg</span>  </td><td class="markdownTableBodyNone"><span class="tt">Cloud</span>  </td><td class="markdownTableBodyNone"><span class="tt">LED</span>  </td><td class="markdownTableBodyNone">Status van de nRF Cloud-verbinding.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b><span class="tt">fota_chan</span></b>  </td><td class="markdownTableBodyNone"><span class="tt">fota_msg</span>  </td><td class="markdownTableBodyNone"><span class="tt">Cloud</span>  </td><td class="markdownTableBodyNone"><span class="tt">LED</span>, <span class="tt">Reboot</span>  </td><td class="markdownTableBodyNone">Status en voortgang van FOTA-updates.  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b><span class="tt">reboot_chan</span></b>  </td><td class="markdownTableBodyNone"><span class="tt">reboot_msg</span>  </td><td class="markdownTableBodyNone"><span class="tt">Reboot</span>  </td><td class="markdownTableBodyNone"><span class="tt">Cloud</span>, <span class="tt">Pulse</span>  </td><td class="markdownTableBodyNone">CoÃ¶rdineert een graceful shutdown.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b><span class="tt">led_chan</span></b>  </td><td class="markdownTableBodyNone"><span class="tt">led_msg</span>  </td><td class="markdownTableBodyNone"><span class="tt">App</span>, <span class="tt">Cloud</span>  </td><td class="markdownTableBodyNone"><span class="tt">LED</span>  </td><td class="markdownTableBodyNone">Stuurt de status van de LEDs aan.  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md185"></a>
Message Flow Scenarios</h2>
<h3 class="doxsection"><a class="anchor" id="autotoc_md186"></a>
ğŸ“¥ Data Acquisitie &amp; Buffering</h3>
<ol type="1">
<li><b><span class="tt">Timing</span></b> publiceert periodiek een bericht op <span class="tt">timing_chan</span> om data-acquisitie te starten.</li>
<li><b><span class="tt">P1</span></b> en <b><span class="tt">Pulse</span></b> luisteren naar <span class="tt">timing_chan</span>.</li>
<li><b><span class="tt">P1</span></b> leest de slimme meter uit, parset de data en publiceert deze op <span class="tt">p1_chan</span>.</li>
<li><b><span class="tt">Pulse</span></b> leest de pulstellers en publiceert de data op <span class="tt">pulse_chan</span>.</li>
<li><b><span class="tt">Cloud</span></b> luistert naar <span class="tt">p1_chan</span> en <span class="tt">pulse_chan</span> en plaatst de ontvangen berichten in zijn interne <b>message queue</b> (buffer).</li>
</ol>
<h3 class="doxsection"><a class="anchor" id="autotoc_md187"></a>
ï¿½ Data Verzending naar de Cloud</h3>
<ol type="1">
<li><b><span class="tt">Timing</span></b> publiceert periodiek een bericht op <span class="tt">timing_chan</span> om data-verzending te triggeren.</li>
<li><b><span class="tt">Cloud</span></b> luistert naar <span class="tt">timing_chan</span> en start het proces om de gebufferde berichten uit de <b>message queue</b> te versturen naar nRF Cloud.</li>
<li>De <b><span class="tt">Cloud</span></b> module publiceert de status van de verbinding op <span class="tt">cloud_chan</span>, waar de <b><span class="tt">LED</span></b> module naar luistert om de juiste visuele feedback te geven.</li>
<li><b>Message Queue</b> buffert data voor volgende publish cycle</li>
</ol>
<h3 class="doxsection"><a class="anchor" id="autotoc_md188"></a>
ğŸ“Š Publish Statistics (elke 10 minuten)</h3>
<ol type="1">
<li><b>Timing</b> publiceert <span class="tt">DATA_PUBLISH_REQUEST_CHAN</span></li>
<li><b>P1</b> reset rolling statistics, publiceert laatste stats via <span class="tt">P_ONE_CHAN</span></li>
<li><b>Energy Pulse</b> publiceert huidige Wh counters via <span class="tt">ENERGY_PULSE_CHAN</span></li>
<li><b>Message Queue</b> combineert P1 + Pulse data, queued message met timestamp</li>
<li>Data blijft in queue tot <span class="tt">DATA_SEND_REQUEST_CHAN</span></li>
</ol>
<h3 class="doxsection"><a class="anchor" id="autotoc_md189"></a>
â˜ï¸ Cloud Transmission (elke 30 minuten)</h3>
<ol type="1">
<li><b>Timing</b> publiceert <span class="tt">DATA_SEND_REQUEST_CHAN</span></li>
<li><b>Message Queue</b> checkt <span class="tt">CLOUD_CHAN</span> status (cloud ready?)</li>
<li>Als ready: dequeue tot 10 messages, encode als JSON, send via <span class="tt">nrf_cloud_send()</span></li>
<li>Bij failure: messages blijven in queue voor volgende cycle</li>
<li>Queue gebruikt drop-oldest strategie bij overflow (FIFO)</li>
</ol>
<h3 class="doxsection"><a class="anchor" id="autotoc_md190"></a>
ğŸ”„ Startup Sequence</h3>
<ol type="1">
<li><b>Network</b> initialiseert modem, wacht op <span class="tt">L4_CONNECTED</span> event</li>
<li><b>Network</b> publiceert <span class="tt">NETWORK_CHAN</span> met <span class="tt">CONNECTED</span> status</li>
<li><b>Cloud</b> ontvangt network ready, start nRF Cloud connect</li>
<li><b>Cloud</b> publiceert <span class="tt">CLOUD_CHAN</span> met <span class="tt">CLOUD_READY</span> status</li>
<li><b>Message Queue</b> start sending queued data (indien aanwezig)</li>
<li><b>LED</b> toont CLOUD_CONNECTED pattern (groene pulse)</li>
</ol>
<h3 class="doxsection"><a class="anchor" id="autotoc_md191"></a>
ğŸ›‘ Graceful Shutdown</h3>
<ol type="1">
<li><b>Cloud</b> ontvangt FOTA complete â†’ publiceert <span class="tt">REBOOT_CHAN</span> met <span class="tt">REBOOT_REQ</span></li>
<li><b>Reboot</b> module re-publiceert als <span class="tt">SHUTDOWN_REQ</span> met observers tracking</li>
<li><b>Cloud</b> + <b>Energy Pulse</b> ACK via <span class="tt">REBOOT_CHAN</span> (<span class="tt">SHUTDOWN_ACK</span>)</li>
<li><b>Reboot</b> wacht tot alle observers disabled (ACK count == 1, only self)</li>
<li><b>Reboot</b> roept <span class="tt">sys_reboot()</span> aan via work queue (non-blocking)</li>
</ol>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md193"></a>
âš™ï¸ Belangrijke Features</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md194"></a>
ğŸ”Œ Hardware Ondersteuning</h2>
<ul>
<li><b>Nordic nRF9161</b> - Cellular IoT SiP met Arm Cortex-M33</li>
<li><b>LTE-M / NB-IoT</b> connectiviteit</li>
<li><b>P1 DSMR interface</b> (UART met auto-baudrate detectie)</li>
<li><b>2x Puls-teller inputs</b> (GPIO interrupt-driven)</li>
<li><b>RGB LED</b> voor status indicatie</li>
<li><b>Hardware Watchdog</b> voor robuustheid</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md195"></a>
ğŸ“Š Data Verwerking</h2>
<ul>
<li><b>DSMR 5.0 / ESMR 5.0</b> parser met CRC validatie</li>
<li><b>Rolling statistics</b> (avg/min/max) over 10-minuten intervallen</li>
<li><b>Separate tracking</b> van consumed en delivered power</li>
<li><b>Timestamp synchronisatie</b> met slimme meter</li>
<li><b>Queue-based buffering</b> voor betrouwbare data delivery</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md196"></a>
â˜ï¸ Cloud Integratie</h2>
<ul>
<li><b>nRF Cloud MQTT</b> met TLS/DTLS</li>
<li><b>Exponential backoff</b> reconnect strategie</li>
<li><b>Message queueing</b> tijdens offline perioden</li>
<li><b>Device shadow</b> synchronisatie</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md197"></a>
ğŸ›¡ï¸ Robustness Features</h2>
<ul>
<li><b>State machines</b> (SMF) voor gedetermineerd gedrag</li>
<li><b>Task watchdog</b> monitoring per module</li>
<li><b>Graceful shutdown</b> coÃ¶rdinatie</li>
<li><b>Settings persistence</b> via NVS (Non-Volatile Storage)</li>
<li><b>Error recovery</b> met automatic retry</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md199"></a>
ğŸš€ Aan de Slag</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md200"></a>
Build Systeem</h2>
<p>De firmware gebruikt <b>West</b> (Zephyr's meta-tool) als build systeem:</p>
<div class="fragment"><div class="line"># Configureer build</div>
<div class="line">west config build.cmake-args &quot; -DBOARD_ROOT=../&quot;</div>
<div class="line">west config build.board &quot;dinnis@1.0.0/nrf9161/ns&quot;</div>
<div class="line">west config build.build-dir &quot;build&quot;</div>
<div class="line"> </div>
<div class="line"># Build firmware</div>
<div class="line">west build application</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md201"></a>
Custom Board Definition</h2>
<p>De Dinnis Rev1.0.0 board definitie bevindt zich in: </p><div class="fragment"><div class="line">boards/solarresult/dinnis/</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md202"></a>
Configuratie</h2>
<p>Belangrijke Kconfig opties zijn gedocumenteerd in elke module's README.md.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md204"></a>
ğŸ“š Documentatie Structuur</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md205"></a>
ğŸ“„ API Referentie</h2>
<ul>
<li><b>Files</b> - Alle source en header files met inline documentatie</li>
<li><b>Data Structures</b> - Structs, enums en typedefs</li>
<li><b>Functions</b> - Functie prototypes met parameters en return values</li>
<li><b>Variables</b> - Globale variabelen en constanten</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md206"></a>
ğŸ“Š Call Graphs</h2>
<p>Voor elke functie zijn er gedetailleerde grafieken:</p><ul>
<li><b>Call Graph</b> - Welke functies roept deze functie aan?</li>
<li><b>Caller Graph</b> - Welke functies roepen deze functie aan?</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md207"></a>
ğŸ“ Module README's</h2>
<p>Elke module heeft een <span class="tt">README.md</span> met:</p><ul>
<li><b>Waarom?</b> - Probleem, motivatie en design rationale</li>
<li><b>Wat?</b> - Functionaliteit, data flow en use cases</li>
<li><b>Hoe?</b> - Architectuur, gedrag en timing</li>
<li><b>Resultaat</b> - Impact cijfers en verificatie</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md209"></a>
ğŸ”— Belangrijke Links</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md210"></a>
ğŸ“š Handleidingen</h2>
<ul>
<li>Provisioning and Onboarding - Complete stap-voor-stap gids voor het provisioneren van devices</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md211"></a>
ğŸŒ Externe Resources</h2>
<ul>
<li><b>Project Repository</b>: <a href="https://github.com/SolarResult">GitHub - SolarResult/fw-energy-core</a></li>
<li><b>Zephyr Documentation</b>: <a href="https://docs.zephyrproject.org/">Zephyr Project Docs</a></li>
<li><b>nRF Connect SDK</b>: <a href="https://www.nordicsemi.com/Products/Development-software/nrf-connect-sdk">Nordic Semiconductor</a></li>
<li><b>nRF Cloud</b>: <a href="https://nrfcloud.com/">nRF Cloud Portal</a></li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md213"></a>
ğŸ“ Contact</h1>
<p><b>SolarResult B.V.</b> <br  />
 Slimme energie monitoring oplossingen</p>
<ul>
<li>ğŸŒ Website: <a href="https://www.solarresult.nl">www.solarresult.nl</a></li>
<li>ğŸ“§ Email: <a href="#" onclick="location.href='mai'+'lto:'+'inf'+'o@'+'sol'+'ar'+'res'+'ul'+'t.n'+'l'; return false;">info@<span class="obfuscator">.nosp@m.</span>sola<span class="obfuscator">.nosp@m.</span>rresu<span class="obfuscator">.nosp@m.</span>lt.n<span class="obfuscator">.nosp@m.</span>l</a></li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md215"></a>
ğŸ“„ Licentie</h1>
<p>Copyright Â© 2025 SolarResult B.V. <br  />
 Alle rechten voorbehouden.</p>
<hr  />
<dl class="section note"><dt>Note</dt><dd>Deze documentatie is automatisch gegenereerd met Doxygen en gebaseerd op de source code commentaren. </dd></dl>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- doc-content -->
</div><!-- contents -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
